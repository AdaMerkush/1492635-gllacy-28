const createLinearScale=(e,t,i,r)=>a=>i+(a-e)/(t-e)*(r-i),contactsMap=document.querySelector("#contacts-map");contactsMap&&ymaps.ready(()=>{const e=new ymaps.Map(contactsMap,{center:[59.939335,30.329618],controls:[],zoom:16}),t=new ymaps.Placemark([59.938635,30.323118],{},{iconLayout:"default#image",iconImageHref:"img/pin.svg",iconImageSize:[80,140],iconImageOffset:[-40,-140]});e.geoObjects.add(t)});const page=document.querySelector(".page"),sliderControls=document.querySelectorAll(".slider-control");for(const e of sliderControls)e.addEventListener("click",e=>{e.preventDefault();const t=e.target.dataset.slide;document.querySelector(".slider-list__item_current").classList.remove("slider-list__item_current"),document.querySelector('.slider-list__item[data-slide="'+t+'"]').classList.add("slider-list__item_current"),document.querySelector(".slider-control_current").classList.remove("slider-control_current"),document.querySelector('.slider-control[data-slide="'+t+'"]').classList.add("slider-control_current"),page.dataset.slide=t});const feedbackWindow=document.querySelector("#feedback-window"),feedbackButtonOpen=document.querySelector("#feedback-button-open"),feedbackButtonClose=document.querySelector("#feedback-button-close");feedbackWindow&&feedbackButtonOpen&&feedbackButtonOpen.addEventListener("click",e=>{e.preventDefault(),feedbackWindow.classList.add("window-wrapper_show")}),feedbackWindow&&feedbackButtonClose&&feedbackButtonClose.addEventListener("click",e=>{e.preventDefault(),feedbackWindow.classList.remove("window-wrapper_show")});const filterPriceInputMin=document.querySelector("#filter-price-input-min"),filterPriceInputMax=document.querySelector("#filter-price-input-max"),filterPriceRangeFill=document.querySelector("#filter-price-range-fill"),filterPriceRangeMin=document.querySelector("#filter-price-range-min"),filterPriceRangeMax=document.querySelector("#filter-price-range-max"),filterPriceStep=100;if(filterPriceInputMin&&filterPriceRangeMin&&filterPriceInputMin.addEventListener("change",e=>{filterPriceRangeMin.value!==e.target.value&&(filterPriceRangeMin.value=e.target.value,filterPriceRangeMin.dispatchEvent(new Event("input")))}),filterPriceInputMax&&filterPriceRangeMax&&filterPriceInputMax.addEventListener("change",e=>{filterPriceRangeMax.value!==e.target.value&&(filterPriceRangeMax.value=e.target.value,filterPriceRangeMax.dispatchEvent(new Event("input")))}),filterPriceRangeMin){const e=createLinearScale(parseFloat(filterPriceRangeMin.min),parseFloat(filterPriceRangeMin.max),0,filterPriceRangeFill.getClientRects()[0].width);filterPriceInputMin&&(filterPriceInputMin.value=filterPriceRangeMin.value);const t=e(parseFloat(filterPriceRangeMin.value));filterPriceRangeFill.style.paddingLeft=t+"px",filterPriceRangeMin.addEventListener("input",t=>{filterPriceInputMin&&filterPriceInputMin.value!==t.target.value&&(filterPriceInputMin.value=t.target.value),filterPriceRangeMax&&parseFloat(filterPriceRangeMax.value)<parseFloat(t.target.value)+100&&(filterPriceRangeMax.value=parseFloat(t.target.value)+100,filterPriceRangeMax.dispatchEvent(new Event("input")));const i=e(parseFloat(t.target.value));filterPriceRangeFill.style.paddingLeft=i+"px"})}if(filterPriceRangeMax){const e=createLinearScale(parseFloat(filterPriceRangeMax.min),parseFloat(filterPriceRangeMax.max),0,filterPriceRangeFill.getClientRects()[0].width);filterPriceInputMax&&(filterPriceInputMax.value=filterPriceRangeMax.value);const t=filterPriceRangeFill.getClientRects()[0].width-e(parseFloat(filterPriceRangeMax.value));filterPriceRangeFill.style.paddingRight=t+"px",filterPriceRangeMax.addEventListener("input",t=>{filterPriceInputMax&&filterPriceInputMax.value!==t.target.value&&(filterPriceInputMax.value=t.target.value),filterPriceRangeMin&&parseFloat(filterPriceRangeMin.value)>parseFloat(t.target.value)-100&&(filterPriceRangeMin.value=parseFloat(t.target.value)-100,filterPriceRangeMin.dispatchEvent(new Event("input")));const i=filterPriceRangeFill.getClientRects()[0].width-e(parseFloat(t.target.value));filterPriceRangeFill.style.paddingRight=i+"px"})}
